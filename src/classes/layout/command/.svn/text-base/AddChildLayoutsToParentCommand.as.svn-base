package layout.command {
	import layout.model.LayoutModel;

	import com.senocular.display.Layout;

	import org.robotlegs.mvcs.Command;

	import flash.events.Event;

	/**
	 * @author projects
	 */
	public class AddChildLayoutsToParentCommand extends Command {

		public var model:LayoutModel;

		public var parentLayout:Layout;

		//public var stageLayoutChangeCallback:Function;

		override public function execute ():void
		{
			var layouts:Array = model.getLayouts();

			for (var i:String in layouts)
			{
				var layout:Layout = layouts[i];
				if (layout.parent)
				{
					//NOTHING
					//trace ("layout " + layout + i + " has existing parent " + layout.parent + " ... skipping");
				}
				else
				{
					//trace ("ADD layout " + layout + i + " to " + parentLayout);
					parentLayout.addChild(layout);
				}
			}

			parentLayout.target.dispatchEvent(new Event(Event.RESIZE));

			//parentLayout.addEventListener(LayoutConstraint.EVENT_RESIZE, stageLayoutChangeCallback);
		}
	}
}
